"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/api/chat/route",{

/***/ "(rsc)/./app/api/chat/route.ts":
/*!*******************************!*\
  !*** ./app/api/chat/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/esm/server/web/exports/next-response.js\");\n\nconst runtime = \"edge\";\nasync function POST(req) {\n    try {\n        const { messages } = await req.json();\n        // 获取用户消息\n        const userMessage = messages[0].content;\n        console.log(\"用户消息:\", userMessage);\n        // 调用 AiHubMix API\n        const response = await fetch(\"https://aihubmix.com/v1/chat/completions\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${process.env.ANTHROPIC_API_KEY}`\n            },\n            body: JSON.stringify({\n                model: \"aihubmix-DeepSeek-R1\",\n                messages: messages,\n                temperature: 0.7,\n                max_tokens: 1000\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"API错误:\", response.status, errorText);\n            throw new Error(`API错误: ${response.status} ${errorText}`);\n        }\n        const data = await response.json();\n        console.log(\"API响应摘要:\", data.choices?.[0]?.message);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: data.choices[0].message.content\n        });\n    } catch (error) {\n        console.error(\"错误:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"请求处理失败\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NoYXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBRXBDLE1BQU1DLFVBQVUsT0FBTztBQUV2QixlQUFlQyxLQUFLQyxHQUFZO0lBQ3JDLElBQUk7UUFDRixNQUFNLEVBQUVDLFFBQVEsRUFBRSxHQUFHLE1BQU1ELElBQUlFLElBQUk7UUFFbkMsU0FBUztRQUNULE1BQU1DLGNBQWNGLFFBQVEsQ0FBQyxFQUFFLENBQUNHLE9BQU87UUFDdkNDLFFBQVFDLEdBQUcsQ0FBQyxTQUFTSDtRQUVyQixrQkFBa0I7UUFDbEIsTUFBTUksV0FBVyxNQUFNQyxNQUFNLDRDQUE0QztZQUN2RUMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsaUJBQWlCLENBQUMsT0FBTyxFQUFFQyxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixDQUFDLENBQUM7WUFDNUQ7WUFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQkMsT0FBTztnQkFDUGhCLFVBQVVBO2dCQUNWaUIsYUFBYTtnQkFDYkMsWUFBWTtZQUNkO1FBQ0Y7UUFFQSxJQUFJLENBQUNaLFNBQVNhLEVBQUUsRUFBRTtZQUNoQixNQUFNQyxZQUFZLE1BQU1kLFNBQVNlLElBQUk7WUFDckNqQixRQUFRa0IsS0FBSyxDQUFDLFVBQVVoQixTQUFTaUIsTUFBTSxFQUFFSDtZQUN6QyxNQUFNLElBQUlJLE1BQU0sQ0FBQyxPQUFPLEVBQUVsQixTQUFTaUIsTUFBTSxDQUFDLENBQUMsRUFBRUgsVUFBVSxDQUFDO1FBQzFEO1FBRUEsTUFBTUssT0FBTyxNQUFNbkIsU0FBU0wsSUFBSTtRQUNoQ0csUUFBUUMsR0FBRyxDQUFDLFlBQVlvQixLQUFLQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUVDO1FBRTNDLE9BQU8vQixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1lBQ3ZCMEIsU0FBU0YsS0FBS0MsT0FBTyxDQUFDLEVBQUUsQ0FBQ0MsT0FBTyxDQUFDeEIsT0FBTztRQUMxQztJQUNGLEVBQUUsT0FBT21CLE9BQVk7UUFDbkJsQixRQUFRa0IsS0FBSyxDQUFDLE9BQU9BO1FBQ3JCLE9BQU8xQixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtZQUFFcUIsT0FBTztZQUFVTSxTQUFTTixNQUFNSyxPQUFPO1FBQUMsR0FDMUM7WUFBRUosUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2FwaS9jaGF0L3JvdXRlLnRzP2RlNDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuXG5leHBvcnQgY29uc3QgcnVudGltZSA9ICdlZGdlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBtZXNzYWdlcyB9ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBcbiAgICAvLyDojrflj5bnlKjmiLfmtojmga9cbiAgICBjb25zdCB1c2VyTWVzc2FnZSA9IG1lc3NhZ2VzWzBdLmNvbnRlbnQ7XG4gICAgY29uc29sZS5sb2coJ+eUqOaIt+a2iOaBrzonLCB1c2VyTWVzc2FnZSk7XG4gICAgXG4gICAgLy8g6LCD55SoIEFpSHViTWl4IEFQSVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYWlodWJtaXguY29tL3YxL2NoYXQvY29tcGxldGlvbnMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7cHJvY2Vzcy5lbnYuQU5USFJPUElDX0FQSV9LRVl9YFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbW9kZWw6IFwiYWlodWJtaXgtRGVlcFNlZWstUjFcIixcbiAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICBtYXhfdG9rZW5zOiAxMDAwXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgY29uc29sZS5lcnJvcignQVBJ6ZSZ6K+vOicsIHJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJ6ZSZ6K+vOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtlcnJvclRleHR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnQVBJ5ZON5bqU5pGY6KaBOicsIGRhdGEuY2hvaWNlcz8uWzBdPy5tZXNzYWdlKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgbWVzc2FnZTogZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcign6ZSZ6K+vOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAn6K+35rGC5aSE55CG5aSx6LSlJywgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicnVudGltZSIsIlBPU1QiLCJyZXEiLCJtZXNzYWdlcyIsImpzb24iLCJ1c2VyTWVzc2FnZSIsImNvbnRlbnQiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiQU5USFJPUElDX0FQSV9LRVkiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vZGVsIiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwib2siLCJlcnJvclRleHQiLCJ0ZXh0IiwiZXJyb3IiLCJzdGF0dXMiLCJFcnJvciIsImRhdGEiLCJjaG9pY2VzIiwibWVzc2FnZSIsImRldGFpbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/chat/route.ts\n");

/***/ })

});